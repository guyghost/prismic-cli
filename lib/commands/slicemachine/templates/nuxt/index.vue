<template>
  <section class="section">
    <prismic-rich-text v-if="{{field}}" :field="{{field}}" />
    <h1 v-else>{{componentName}}</h1>
    <p>
      Hey I'm your new slice üçïI've been generated by SliceMachine.
      <br/>
      Feel free to make me yours by updating my code ‚úåÔ∏è
    </p>
    <p v-if="endpoint">
      Or pass me props <a target="_blank" :href="endpoint">in your writing room</a>
    </p>
  </section>
</template>
<script>
export default {
  props: {
    slice: {
      type: Object,
      required: true,
      default() {
        return {}
      }
    }
  },
  computed: {
    endpoint() {
      return this.$prismic && this.$prismic.apiEndpoint
        ? this.$prismic.apiEndpoint.split('/').slice(0, -2).join('/').replace('cdn.', '')
        : null
    }
  }
}
</script>
<style scoped>
.section {
  position: relative;
  background: {{colorCode}};
  color: #111;
  padding: 4em;
  text-align: center;
}
a {
  color: #111;
}
</style>

